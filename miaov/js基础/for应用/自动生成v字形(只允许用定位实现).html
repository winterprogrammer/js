<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>自动生成v字型</title>
  <style>
	#container{width:400px;height:500px;/*border:1px solid red;*/}
	#box{width:300px;height:400px;/*border:1px solid red;*/margin:0 auto;padding:10px 20px;position:relative;}
	.pdiv{float:left;width:50px;height:50px;color:white;font-size:18px;background:red;position:absolute;text-align:center;line-height:50px;}
  </style>
 </head>
 <body>
	
	<div id="container">
		<input type="button" id="btn" value="生成div">
		<div id="box">
		</div>
	</div>

  <script>
		/**
			思路
		**/
		
		var oBtn = document.getElementById('btn');
		var oBox = document.getElementById('box');
		var clickNum = 0;
		var len = 5;//生成的div块数目,想出现对称的翻转效果，len 必须为奇数
		var flag = true//状态切换 

		oBtn.onclick = function () {
			
			var str = "";
			var top = 0;
			var left = 0;
			var maxPos = Math.floor(len/2);
			
			for (var i=0,j=maxPos;i<len;i++) {
				if (flag) {

					if (clickNum==0) {

						left = i*50 + 'px';
						
						top = j * 50 + 'px';//2 1 0 1 2
						if(i<maxPos) {
							j --;
						}
						else {
							j ++;
						}					
					}
					
					if (clickNum==2) {
					 
						left = i*50 + 'px';

						if(i>maxPos) {
							j--;
							top = j * 50 + 'px';
						}
						else {
							top = i*50 + 'px';
						}					
					}
					
				} 
				else {
					if (clickNum==1) {

						top = i*50 + 'px';

						if(i>maxPos) {
							j--;
							left = j * 50 + 'px';
						}
						else {
							left = i*50 + 'px';
						}					
					}

					if (clickNum==3) {

						top = i*50 + 'px';
						
						left = j * 50 + 'px';//2 1 0 1 2
						if(i<maxPos) {
							j --;
						}
						else {
							j ++;
						}					
					}


				}
				str += "<div class='pdiv' style='left:"+left+";top:"+top+";'>"+i+"</div>";
			}
			
			oBox.innerHTML = str;
			
			flag = !flag;
			
			clickNum = ++clickNum % (len-1);
			
		}

  </script>
 </body>
</html>
